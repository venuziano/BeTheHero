{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/rrs/Documents/vscode/BeTheHero/mobile/src/pages/IncidentCreate/index.js\";\nimport React, { useState } from 'react';\nimport { Feather } from '@expo/vector-icons';\nimport { useNavigation } from '@react-navigation/native';\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport api from \"../../services/api\";\nimport logoImg from \"../../assets/logo.png\";\nimport styles from \"./styles\";\nexport default function IncidentCreate() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      title = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      description = _useState4[0],\n      setDescription = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      value = _useState6[0],\n      setValue = _useState6[1];\n\n  var ongId = '61d39daf';\n  var navigation = useNavigation();\n\n  function navigateBack() {\n    navigation.goBack();\n  }\n\n  function handleRegisterIncident(values) {\n    var data;\n    return _regeneratorRuntime.async(function handleRegisterIncident$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            data = {\n              title: title,\n              description: description,\n              value: value\n            };\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(api.post('incidents', data, {\n              headers: {\n                Authorization: ongId\n              }\n            }));\n\n          case 4:\n            alert('Caso cadastrado com sucesso!');\n            navigation.navigate('Incidents');\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](1);\n            alert(\"Erro no cadastro, tente novamente.\");\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 8]], Promise);\n  }\n\n  return React.createElement(KeyboardAvoidingView, {\n    behavior: Platform.OS == \"android\" ? \"padding\" : \"height\",\n    behavior: Platform.OS == \"ios\" ? \"padding\" : \"height\",\n    style: styles.keyboard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, React.createElement(TouchableWithoutFeedback, {\n    onPress: Keyboard.dismiss,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.header,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, React.createElement(Image, {\n    source: logoImg,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: navigateBack,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, React.createElement(Feather, {\n    name: \"arrow-left\",\n    size: 28,\n    color: \"#e82041\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }))), React.createElement(Text, {\n    style: styles.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, \"Cadastre um caso\"), React.createElement(Text, {\n    style: styles.description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, \"Descreva o caso detalhadamente para encontrar um her\\xF3i para resolver isso.\"), React.createElement(ScrollView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.incident,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, React.createElement(TextInput, {\n    style: styles.textInput,\n    placeholder: \"T\\xEDtulo do caso\",\n    value: title,\n    onChangeText: function onChangeText(text) {\n      return setTitle(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }), React.createElement(TextInput, {\n    style: styles.textInput,\n    placeholder: \"Descri\\xE7\\xE3o\",\n    value: description,\n    onChangeText: function onChangeText(text) {\n      return setDescription(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }), React.createElement(TextInput, {\n    style: styles.textInput,\n    placeholder: \"Valor em R$\",\n    value: value,\n    onChangeText: function onChangeText(text) {\n      return setValue(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }))), React.createElement(View, {\n    style: styles.action,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.registerAction,\n    onPress: handleRegisterIncident,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.actionText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, \"Cadastrar\"))))));\n}","map":{"version":3,"sources":["/home/rrs/Documents/vscode/BeTheHero/mobile/src/pages/IncidentCreate/index.js"],"names":["React","useState","Feather","useNavigation","api","logoImg","styles","IncidentCreate","title","setTitle","description","setDescription","value","setValue","ongId","navigation","navigateBack","goBack","handleRegisterIncident","values","data","post","headers","Authorization","alert","navigate","Platform","OS","keyboard","Keyboard","dismiss","container","header","incident","textInput","text","action","registerAction","actionText"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Feather } from '@expo/vector-icons';\nimport { useNavigation } from '@react-navigation/native';\nimport { View, Image, Text, TouchableOpacity, TextInput, TouchableWithoutFeedback, Keyboard,\n  KeyboardAvoidingView, Platform, ScrollView\n} from 'react-native'\n\nimport api from '../../services/api'\n\nimport logoImg from '../../assets/logo.png';\n\nimport styles from './styles';\n\nexport default function IncidentCreate() {\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [value, setValue] = useState('');\n  const ongId = '61d39daf'\n  \n  const navigation = useNavigation();\n\n  function navigateBack() {\n    navigation.goBack();\n  }\n\n  async function handleRegisterIncident(values) {\n    \n    const data = {\n      title,\n      description,\n      value,\n    }\n\n    try {\n      await api.post('incidents', data, {\n        headers: {\n          Authorization: ongId, \n        }\n      })\n\n      alert('Caso cadastrado com sucesso!');\n      navigation.navigate('Incidents');\n    } catch (err) {\n      alert(`Erro no cadastro, tente novamente.`);\n    }\n  }\n\n  return (\n    <KeyboardAvoidingView\n      behavior={Platform.OS == \"android\" ? \"padding\" : \"height\"}\n      behavior={Platform.OS == \"ios\" ? \"padding\" : \"height\"}\n      style={styles.keyboard}\n    >\n\n      <TouchableWithoutFeedback onPress={Keyboard.dismiss}>\n        <View style={styles.container}>\n          <View style={styles.header}>\n            <Image source={logoImg} />\n\n            <TouchableOpacity onPress={navigateBack}>\n              <Feather name=\"arrow-left\" size={28} color=\"#e82041\" />\n            </TouchableOpacity>\n          </View>\n\n          <Text style={styles.title}>Cadastre um caso</Text>\n          <Text style={styles.description}>Descreva o caso detalhadamente para encontrar um herói para resolver isso.</Text>\n          \n          <ScrollView>\n            <View style={styles.incident}>\n              <TextInput \n                style={styles.textInput}\n                placeholder=\"Título do caso\"\n                value={title}\n                onChangeText={text => setTitle( text )}\n              />\n              <TextInput\n                style={styles.textInput}\n                placeholder=\"Descrição\"\n                value={description}\n                onChangeText={text => setDescription( text )}\n              />\n              <TextInput\n                style={styles.textInput} \n                placeholder=\"Valor em R$\"\n                value={value}\n                onChangeText={text => setValue( text )}\n              />\n            </View>\n          </ScrollView>\n\n          <View style={styles.action}>\n            <TouchableOpacity style={styles.registerAction} onPress={handleRegisterIncident}>\n              <Text style={styles.actionText}>Cadastrar</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n\n      </TouchableWithoutFeedback>\n    </KeyboardAvoidingView>\n  )\n}"]},"metadata":{},"sourceType":"module"}